<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>2026 ç¾è¥¿ï½œèˆŠé‡‘å±±èˆ‡æ´›æ‰ç£¯ä¹‹æ—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="styles.css">    
    
    <!-- Application Structure Plan:
         1. Hero Section: Title, Dates, and high-level trip stats (Days, Cities).
         2. Navigation: Simple sticky sub-nav to jump between Logistics, Itinerary, and Highlights.
         3. Logistics Hub: Interactive section for Flights (toggle View) and Essential Info (Cards). Includes a Weather Comparison Chart (Chart.js) to visualize clothing needs. NOW includes a 13-Day Daily Forecast and Accommodation Summary.
         4. The Journey (Itinerary): A split-view interactive timeline. Left side lists the 3 major phases (SF, PCH, LA). Clicking a phase reveals detailed day-by-day activities on the right. (Daily itinerary includes Attraction Details.)
         5. Destination Discovery (Attractions): A filterable grid of attraction cards.
         6. Footer: Simple closing.
    -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Hero Section -->
    <header class="bg-white shadow-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center">
            <h1 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl mb-2">
                ç¾è¥¿èˆŠé‡‘å±±èˆ‡æ´›æ‰ç£¯ä¹‹æ—…
            </h1>
            <p class="text-lg text-gray-600 mb-6">
                2026å¹´ 2æœˆ26æ—¥ - 3æœˆ11æ—¥ Â· 13 å¤© 12 å¤œ Â· åŠ å·å¤¢å¹»è¡Œ
            </p>                       
        </div>
    </header>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur shadow-sm">
        <div class="max-w-7xl mx-auto px-4">
            <ul class="flex flex-wrap justify-center gap-4 h-auto md:h-12 items-center">
              <li>
                  <button onclick="scrollToSection('logistics')" class="text-gray-600 hover:text-yellow-600 px-3 py-2 text-sm font-medium transition-colors">
                      ğŸ›« è¡Œå‰æº–å‚™ & èˆªç­
                  </button>
              </li>

              <li>
                  <button onclick="scrollToSection('itinerary')" class="text-gray-600 hover:text-yellow-600 px-3 py-2 text-sm font-medium transition-colors">
                     ğŸ—ºï¸ æ¯æ—¥è¡Œç¨‹
                  </button>
              </li>

              <li>
                  <button onclick="scrollToSection('highlights')" class="text-gray-600 hover:text-yellow-600 px-3 py-2 text-sm font-medium transition-colors">
                     ğŸ›ï¸ æ™¯é»æ¢ç´¢
                  </button>
              </li>

              <li>
                  <a href="disneyland_itinerary.html" target="_blank"
                     class="text-gray-600 hover:text-red-600 px-3 py-2 text-sm font-medium transition-colors flex items-center gap-1">
                      <span>ğŸ°</span> è¿ªå£«å°¼æ¨‚åœ’
                  </a>
              </li>
              <li>
                  <a href="universal_hollywood.html" target="_blank"
                     class="text-gray-600 hover:text-orange-600 px-3 py-2 text-sm font-medium transition-colors flex items-center gap-1">
                      <span>ğŸ¥</span> ç’°çƒå½±åŸ
                  </a>
              </li>
          </ul>

        </div>
    </nav>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full space-y-16">

        <!-- Section 1: Logistics Hub -->
        <section id="logistics" class="scroll-mt-20">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900">ğŸ›« è¡Œå‰æº–å‚™èˆ‡è³‡è¨Š</h2>
                <p class="mt-2 text-gray-600 max-w-2xl mx-auto">
                    åŒ…å«èˆªç­æ™‚é–“ã€å¿…å‚™æ–‡ä»¶æª¢æŸ¥ã€ä»¥åŠç•¶åœ°å¤©æ°£é æ¸¬ï¼Œå”åŠ©æ‚¨æ‰“åŒ…è¡Œæèˆ‡è¦åŠƒæŠµé”äº‹å®œã€‚
                </p>
            </div>
 
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Flight Info -->
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">âœˆï¸ èˆªç­è³‡è¨Š</h3>
                        <div class="flex space-x-2 bg-gray-100 rounded-lg p-1">
                            <button onclick="switchFlightTab('outbound')" id="btn-outbound" class="px-3 py-1 rounded-md text-sm font-medium transition-colors bg-white shadow text-gray-900">å»ç¨‹</button>
                            <button onclick="switchFlightTab('inbound')" id="btn-inbound" class="px-3 py-1 rounded-md text-sm font-medium transition-colors text-gray-500 hover:text-gray-900">å›ç¨‹</button>
                        </div>
                    </div>
                    
                    <div id="flight-content" class="space-y-4">
                        <!-- Dynamic Content Loaded via JS -->
                    </div>
                </div>
            
                <!-- Weather & Tips -->
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                  <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                      ğŸ“ æ‰€åœ¨åœ°å€ãƒ»æœªä¾† 3 å¤©å¤©æ°£
                  </h3>

                  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                      <!-- Current Location -->
                      <div class="bg-gray-50 rounded-xl p-4 border">
                          <h4 class="text-lg font-medium mb-1">ç›®å‰æ‰€åœ¨åœ°</h4>
                          <p class="text-sm text-gray-500 mb-4" id="current-city">å®šä½ä¸­â€¦</p>
                          <div id="weather-current" class="flex gap-4"></div>
                          <p id="wear-current" class="text-sm text-gray-600 mt-3"></p>
                          <!-- ç§»é™¤ï¼šåŸå…ˆçš„ã€Œæ•¸æ“šç”± Gemini API é©…å‹•ã€æ–‡å­—ï¼Œé¿å…èª¤å° -->
                      </div>

                      <!-- San Francisco -->
                      <div class="bg-gray-50 rounded-xl p-4 border">
                          <h4 class="text-lg font-medium mb-1">èˆŠé‡‘å±±</h4>
                          <p class="text-sm text-gray-500 mb-4">San Francisco</p>
                          <div id="weather-sf" class="flex gap-4"></div>
                          <p id="wear-sf" class="text-sm text-gray-600 mt-3"></p>
                      </div>

                      <!-- Los Angeles -->
                      <div class="bg-gray-50 rounded-xl p-4 border">
                          <h4 class="text-lg font-medium mb-1">æ´›æ‰ç£¯</h4>
                          <p class="text-sm text-gray-500 mb-4">Los Angeles</p>
                          <div id="weather-la" class="flex gap-4"></div>
                          <p id="wear-la" class="text-sm text-gray-600 mt-3"></p>
                      </div>
                  </div>
              </div>               
            </div>
            <!-- ACCOMMODATION SUMMARY -->
            <div class="mt-8 bg-white rounded-2xl shadow-lg p-6 border border-gray-100">

                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2 text-2xl">ğŸ¨</span> ä½å®¿è¦åŠƒ
                </h3>

                <!-- â­ æ­£ç¢ºçš„ grid å®¹å™¨ -->
                <div id="accommodation-content"
                     class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <!-- Dynamic Content Loaded via JS -->
                </div>

            </div>           
            <!-- Essential Checklist Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
                <article class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                    <div class="text-2xl mb-2" aria-hidden="true">ğŸ“„</div>
                    <h4 class="font-bold text-blue-900">è­‰ä»¶æª¢æŸ¥</h4>
                    <p class="text-sm text-blue-800 mt-1">è­·ç…§ã€ESTAã€åœ‹éš›é§•ç…§ã€å°ç£é§•ç…§æ­£æœ¬ã€‚</p>
                </article>
                <article class="bg-green-50 p-4 rounded-xl border border-green-100">
                    <div class="text-2xl mb-2" aria-hidden="true">ğŸ’µ</div>
                    <h4 class="font-bold text-green-900">è²¨å¹£å°è²»</h4>
                    <p class="text-sm text-green-800 mt-1">ä½¿ç”¨ USDã€‚é¤å»³å°è²»ç´„ 15-20%ã€‚æ¨™åƒ¹ä¸å«ç¨…ã€‚</p>
                </article>
                <article class="bg-purple-50 p-4 rounded-xl border border-purple-100">
                    <div class="text-2xl mb-2" aria-hidden="true">ğŸ“±</div>
                    <h4 class="font-bold text-purple-900">ç¶²è·¯é€šè¨Š</h4>
                    <p class="text-sm text-purple-800 mt-1">æå‰è³¼è²· SIM å¡æˆ–ç§Ÿå€Ÿ Wi-Fi æ©Ÿã€‚æ™‚å€æ…¢ 16 å°æ™‚ã€‚</p>
                </article>
                <article class="bg-red-50 p-4 rounded-xl border border-red-100">
                    <div class="text-2xl mb-2" aria-hidden="true">ğŸš—</div>
                    <h4 class="font-bold text-red-900">äº¤é€šé ˆçŸ¥</h4>
                    <p class="text-sm text-red-800 mt-1">SFæ­å¤§çœ¾é‹è¼¸ï¼›LAæ­Uberï¼›PCHè‡ªé§•å‰æŸ¥è·¯æ³ã€‚</p>
                </article>
            </div>
        </section>

        <!-- Section 2: Itinerary -->
        <section id="itinerary" class="scroll-mt-20">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900">ğŸ—ºï¸ 13 å¤©æ—…ç¨‹è¦åŠƒ</h2>
                <p class="mt-2 text-gray-600 max-w-2xl mx-auto">
                    è¡Œç¨‹åˆ†ç‚ºä¸‰å¤§ä¸»é¡Œéšæ®µã€‚é»é¸å·¦å´éšæ®µå¯æŸ¥çœ‹æ¯æ—¥è©³ç´°å®‰æ’èˆ‡**ç›¸é—œæ™¯é»äº®é»**ã€‚
                </p>
            </div>

            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 flex flex-col md:flex-row md:h-[600px]">
                <!-- Sidebar: Phases -->
                <div class="w-full md:w-1/3 bg-gray-50 border-r border-gray-200 md:overflow-y-auto">
                    <div class="p-4 flex md:block gap-3 md:gap-0 overflow-x-auto md:overflow-visible">
                        <button onclick="renderItinerary('phase1')" id="nav-phase1"
                          class="w-full min-w-[260px] md:min-w-0 text-left p-4 rounded-xl transition-all border-l-4 border-blue-500 bg-white shadow-sm hover:bg-blue-50 group">
                            <div class="text-xs font-bold text-blue-500 uppercase tracking-wider mb-1">Phase 1 Â· 2/26 - 3/2</div>
                            <h3 class="text-lg font-bold text-gray-900 group-hover:text-blue-700">ä¸‰è—©å¸‚æ¼«éŠèˆ‡NBA</h3>
                            <p class="text-sm text-gray-500 mt-1">é‡‘é–€å¤§æ©‹ã€æƒ¡é­”å³¶ã€NBA è³½äº‹</p>
                        </button>

                        <button onclick="renderItinerary('phase2')" id="nav-phase2"
                          class="w-full min-w-[260px] md:min-w-0 text-left p-4 rounded-xl transition-all border-l-4 border-transparent hover:border-yellow-500 hover:bg-yellow-50 group">
                            <div class="text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1">Phase 2 Â· 3/3 - 3/5</div>
                            <h3 class="text-lg font-bold text-gray-900 group-hover:text-yellow-700">åŠ å·ä¸€è™Ÿå…¬è·¯</h3>
                            <p class="text-sm text-gray-500 mt-1">çµ•ç¾æµ·å²¸è‡ªé§•ã€èµ«æ°å¤å ¡</p>
                        </button>

                        <button onclick="renderItinerary('phase3')" id="nav-phase3"
                          class="w-full min-w-[260px] md:min-w-0 text-left p-4 rounded-xl transition-all border-l-4 border-transparent hover:border-purple-500 hover:bg-purple-50 group">
                            <div class="text-xs font-bold text-purple-500 uppercase tracking-wider mb-1">
                                Phase 3 Â· 3/6 - 3/9
                            </div>
                            <h3 class="text-lg font-bold text-gray-900 group-hover:text-purple-700">
                                å¤©ä½¿ä¹‹åŸèˆ‡é›™æ¨‚åœ’
                            </h3>
                            <p class="text-sm text-gray-500 mt-1">
                                è¿ªå£«å°¼ã€ç’°çƒå½±åŸã€æ˜Ÿå…‰å¤§é“
                            </p>
                        </button>
                    </div>
                </div>

                <!-- Content: Daily Details -->
                <div class="w-full md:w-2/3 p-6 md:p-8 md:overflow-y-auto custom-scroll bg-white relative">
                    <div id="itinerary-details" class="space-y-8">
                        <!-- Content injected via JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Highlights -->
        <section id="highlights" class="scroll-mt-20">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900">ğŸ›ï¸ ç²¾é¸æ™¯é»æ¢ç´¢</h2>
                <p class="mt-2 text-gray-600 max-w-2xl mx-auto">
                    æ¢ç´¢æœ¬æ¬¡æ—…ç¨‹çš„å¿…è¨ªäº®é»ã€‚**é»æ“Šä¸‹æ–¹æ™¯é»å¡ç‰‡å³å¯å‰å¾€å®˜æ–¹ç¶²ç«™ã€‚**
                </p>
            </div>

            <!-- Filters: Added Yosemite Button -->
            <div class="flex flex-wrap justify-center gap-2 mb-8">
                <button onclick="filterAttractions('all')" class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-800 text-white shadow-md hover:bg-gray-700 transition-colors active-filter" data-filter="all">å…¨éƒ¨é¡¯ç¤º</button>
                <button onclick="filterAttractions('SF')" class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-white text-gray-600 border border-gray-200 hover:bg-blue-50 hover:text-blue-600 transition-colors" data-filter="SF">ğŸŒ‰ èˆŠé‡‘å±±</button>
                <button onclick="filterAttractions('Yosemite')" class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-white text-gray-600 border border-gray-200 hover:bg-green-50 hover:text-green-600 transition-colors" data-filter="Yosemite">ğŸŒ² å„ªå‹ç¾åœ°</button>
                <button onclick="filterAttractions('PCH')" class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-white text-gray-600 border border-gray-200 hover:bg-yellow-50 hover:text-yellow-600 transition-colors" data-filter="PCH">ğŸŒŠ ä¸€è™Ÿå…¬è·¯</button>
                <button onclick="filterAttractions('LA')" class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-white text-gray-600 border border-gray-200 hover:bg-purple-50 hover:text-purple-600 transition-colors" data-filter="LA">ğŸ¬ æ´›æ‰ç£¯</button>
            </div>

            <!-- Grid -->
            <div id="attraction-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Content injected via JS -->
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 text-white py-12 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-2xl mb-4">ğŸ‡ºğŸ‡¸</p>
            <p class="text-gray-400">ç¥æ‚¨çš„ 2026 ç¾è¥¿ä¹‹æ—…å……æ»¿ç¾å¥½å›æ†¶ï¼</p>
            <div class="mt-8 text-xs text-gray-600">
                Generated from Travel Booklet Source Data
            </div>
        </div>
    </footer>

    <script>
        // --- Data Storage ---

        const flightData = {
            outbound: [
                { leg: "TPE âœ HKG", date: "2/26 20:15", arr: "22:00", note: "è½‰æ©Ÿ", number: "CX531" }, 
                { leg: "HKG âœ SFO", date: "2/26 01:00 (+1)", arr: "21:15 (2/26)", note: "éœ€èª¿æ•´æ™‚å·®", number: "CX872" }
            ],
            inbound: [
                { leg: "LAX âœ HKG", date: "3/09 22:15", arr: "05:05 (3/11)", note: "è·¨è¶Šåœ‹éš›æ›æ—¥ç·š", number: "CX883" },
                { leg: "HKG âœ TPE", date: "3/11 08:00", arr: "ä¸Šåˆ", note: "æŠµé”æº«æš–çš„å®¶", number: "CX488" }
            ]
        };

const accommodationData = {
    sf: {
        city: "èˆŠé‡‘å±±",
        name: "Riu Plaza Fisherman's Wharf",
        checkinDate: "2026-02-26",
        checkoutDate: "2026-03-03",
        checkin: "15:00 èµ·",
        checkout: "12:00 å‰",
        room: "è±ªè¯åŠ å¤§é›™äººåºŠæˆ¿ï¼ˆ2 å¼µåŠ å¤§åºŠï¼‰",
        highlight: "ğŸ³ å«æ—©é¤ï½œğŸš­ ç¦è¸æˆ¿",
        facilities: "é«˜é€Ÿç¶²è·¯ã€ç§äººè¡›æµ´ã€ç©ºèª¿ã€ä¿éšªç®±ã€å†°ç®±ã€å’–å•¡æ©Ÿã€å¹é¢¨æ©Ÿ",
        address: "2500 Mason Street, San Francisco, CA 94133, USA",
        mapLink: "https://www.google.com/maps?q=37.80699906469404,-122.41348274052166"
    },
    monterey: {
        city: "è’™ç‰¹é›·",
        name: "éš†æ©æ©¡æœ¨é…’åº—",
        checkinDate: "2026-03-03",
        checkoutDate: "2026-03-04",
        checkin: "15:00ï½23:00",
        checkout: "05:00ï½11:00",
        room: "ç‰¹å¤§é›™äººåºŠæˆ¿ Ã— 2 é–“",
        highlight: "ğŸ½ï¸ ä¸å«é¤ï½œğŸš­ ç¦è¸æˆ¿",
        facilities: "ç§äººè¡›æµ´ã€ç©ºèª¿ã€éš”éŸ³ã€å¾®æ³¢çˆã€å†°ç®±ã€å’–å•¡æ©Ÿã€æš–æ°£",
        address: "2221 North Fremont Street, Monterey, CA 93940, USA",
        mapLink: "https://www.google.com/maps?q=36.5970385420236,-121.85806229710579"
    },
    morro: {
        city: "è«ç¾…è²",
        name: "æµ·æ¸¯å±‹é…’åº—",
        checkinDate: "2026-03-04",
        checkoutDate: "2026-03-05",
        checkin: "15:00 èµ·",
        checkout: "11:00 å‰",
        room: "æµ·æ™¯è±ªè¯ç‰¹å¤§åºŠæˆ¿ Ã— 2 é–“",
        highlight: "ğŸŒŠ æµ·æ™¯é™½å°ï½œğŸš­ ç¦è¸æˆ¿",
        facilities: "ç§äººé™½å°ã€æµ·æ™¯ã€ç©ºèª¿ã€å¾®æ³¢çˆã€å’–å•¡æ©Ÿã€æš–æ°£",
        address: "1095 Main Street, Morro Bay, CA 93442, USA",
        mapLink: "https://www.google.com/maps?q=35.36818125561934,-120.85015922784805"
    },
    la: {
        city: "æ´›æ‰ç£¯",
        name: "Hollywood Franklin Hotel",
        checkinDate: "2026-03-05",
        checkoutDate: "2026-03-09",
        checkin: "15:00 èµ·",
        checkout: "11:00 å‰",
        room: "åŠ å¤§é›™äººåºŠæˆ¿ï¼ˆ2 å¼µåŠ å¤§åºŠï¼‰",
        highlight: "ğŸ¬ è¿‘ç’°çƒå½±åŸï½œğŸš­ ç¦è¸æˆ¿",
        facilities: "æ¸¸æ³³æ± ã€å¸‚æ™¯ã€ç©ºèª¿ã€å¾®æ³¢çˆã€å’–å•¡æ©Ÿã€ä¿éšªç®±",
        address: "6141 Franklin Avenue, Hollywood, Los Angeles, CA 90028, USA",
        mapLink: "https://www.google.com/maps?q=34.10539309099251,-118.32347273826599"
    }
};

        // NEW: æ™¯é»å¿«é€ŸæŸ¥æ‰¾åœ°åœ–
        let attractionMap = {};

        // æ™¯é»è³‡è¨Š (Attractions data) - å·²æ•´åˆæ‰€æœ‰ PCH æ™¯é»
        const attractions = [
            // --- èˆŠé‡‘å±± (SF) æ™¯é» ---
            { name: "é‡‘é–€å¤§æ©‹ Golden Gate", city: "SF", type: "Photo", desc: "èˆŠé‡‘å±±æœ€è‘—åçš„è±¡å¾µã€‚é€™åº§æ©˜ç´…è‰²çš„æ‡¸ç´¢æ©‹æ©«è·¨é‡‘é–€æµ·å³½ï¼Œç„¡è«–æ˜¯åœ¨éœ§ä¸­è‹¥éš±è‹¥ç¾é‚„æ˜¯æ™´å¤©ä¸‹çš„é®®è±”ï¼Œéƒ½æ˜¯æ—…äººçš„å¿…çœ‹ä¹‹è™•ã€‚", short_desc: "æ©˜ç´…è‰²æ‡¸ç´¢æ©‹ï¼ŒèˆŠé‡‘å±±æœ€è‘—åçš„è±¡å¾µã€‚", icon: "ğŸŒ‰", url: "https://www.goldengatebridge.org/" }, 
            { name: "æ¼äººç¢¼é ­èˆ‡ 39 è™Ÿç¢¼é ­", city: "SF", type: "Food", desc: "èˆŠé‡‘å±±äººæ°£æœ€æ—ºçš„è§€å…‰å€ï¼Œå……æ»¿å•†åº—ã€é¤å»³å’Œè¡—é ­è—äººã€‚æœ€è‘—åçš„è«éæ–¼æ£²æ¯åœ¨æµ®ç­’ä¸Šçš„é‡ç”Ÿæµ·ç…ã€‚å¿…åšé…¸éºµåŒ…è›¤èœŠæ¿ƒæ¹¯ã€‚", short_desc: "äººæ°£è§€å…‰å€ï¼Œå¿…çœ‹é‡ç”Ÿæµ·ç…èˆ‡äº«ç”¨é…¸éºµåŒ…æ¿ƒæ¹¯ã€‚", icon: "ğŸ¦€", url: "https://www.fishermanswharf.org/" },
            { name: "æƒ¡é­”å³¶ Alcatraz", city: "SF", type: "History", desc: "æ›¾æ˜¯é—œæŠ¼å…¨ç¾æœ€å±éšªç½ªçŠ¯ï¼ˆå¦‚å¡å½­ï¼‰çš„è¯é‚¦ç›£ç„ã€‚å³¶ä¸Šå……æ»¿ç¥ç¥•è‰²å½©ï¼Œæä¾›ä¸–ç•Œç´šçš„å°è¦½ç³»çµ±ã€‚éœ€ææ—©æ•¸æœˆè¨‚ç¥¨ã€‚", short_desc: "å‚³å¥‡è¯é‚¦ç›£ç„ï¼Œå……æ»¿ç¥ç¥•è‰²å½©èˆ‡æ­·å²æ•…äº‹ã€‚", icon: "ğŸï¸", url: "https://www.alcatrazcruises.com/" },
            { name: "ä¹æ›²èŠ±è¡— Lombard St", city: "SF", type: "Photo", desc: "ä¸–ç•Œä¸Šæœ€å½æ›²çš„è¡—é“ã€‚ç‚ºäº†ç·©è¡æ¥µåº¦é™¡å³­çš„å¡åº¦è€Œè¨­è¨ˆäº†å…«å€‹æ€¥è½‰å½ï¼Œè·¯æ—ç¨®æ»¿ç¹¡çƒèŠ±ï¼Œæ™¯ç·»è¿·äººã€‚", short_desc: "ä¸–ç•Œä¸Šæœ€å½æ›²çš„è¡—é“ï¼Œç¹¡çƒèŠ±èˆ‡æ€¥è½‰å½çš„è¦–è¦ºé¥—å®´ã€‚", icon: "ğŸŒ¸", url: "https://www.sftravel.com/article/guide-to-lombard-street" },
            { name: "å½©ç¹ªå¥³å£« Painted Ladies", city: "SF", type: "Photo", desc: "èˆŠé‡‘å±±æœ€å…·ä»£è¡¨æ€§çš„ç¶­å¤šåˆ©äºå¼æ’å±‹ï¼ŒèƒŒæ™¯æ­£æ˜¯ç¾ä»£åŒ–çš„å¸‚ä¸­å¿ƒé«˜æ¨“å¤§å»ˆï¼Œå‘ˆç¾å‡ºå¤å…¸èˆ‡ç¾ä»£çš„å®Œç¾å°æ¯”ã€‚", short_desc: "ç¶“å…¸ç¶­å¤šåˆ©äºå¼æ’å±‹ï¼Œé˜¿æ‹‰è«å»£å ´çš„çµ•ç¾æ˜ä¿¡ç‰‡æ™¯ç·»ã€‚", icon: "ğŸ ", url: "https://www.sftravel.com/article/guide-alamo-square-painted-ladies" },
            { name: "æ¸¡è¼ªå¤§å»ˆ Ferry Building", city: "SF", type: "Food", desc: "èˆŠé‡‘å±±çš„ç¾é£Ÿæ®¿å ‚ã€‚é€™åº§æ­·å²æ‚ ä¹…çš„æ¸¡è¼ªç«™å…§é€²é§äº†è¨±å¤šåœ¨åœ°æ‰‹å·¥è—å“ã€ç²¾å“å’–å•¡ã€ä¹³é…ªèˆ‡ç‰¹è‰²ç¾é£Ÿã€‚", short_desc: "æ­·å²æ‚ ä¹…çš„ç¾é£Ÿæ®¿å ‚ï¼ŒåŒ¯é›†åœ¨åœ°è¾²ç”¢èˆ‡ç²¾å“å’–å•¡ã€‚", icon: "â›´ï¸", url: "https://www.ferrybuildingmarketplace.com/" },
            { name: "å®å®è»Š Cable Car", city: "SF", type: "Fun", desc: "ä¸–ç•Œä¸Šå”¯ä¸€ä»åœ¨é‹è¡Œçš„æ‰‹å‹•çºœè»Šç³»çµ±ï¼Œä¹Ÿæ˜¯èˆŠé‡‘å±±çš„ç§»å‹•åç‰‡ã€‚æ­ä¹˜å®ƒç©¿æ¢­åœ¨é™¡å¡é–“ï¼Œæ¥µå…·å¾©å¤æƒ…æ‡·ã€‚", short_desc: "é«”é©—ä¸–ç•Œå”¯ä¸€æ‰‹å‹•çºœè»Šï¼Œç©¿æ¢­é™¡å¡çš„å¾©å¤æƒ…æ‡·ã€‚", icon: "ğŸš‹", url: "https://www.sfmta.com/getting-around/muni/cable-cars" },
            { name: "è—è¡“å®®", city: "SF", type: "Photo", desc: "å¤ç¾…é¦¬å»¢å¢Ÿé¢¨æ ¼å»ºç¯‰ï¼Œé©åˆå¤•é™½æ™‚åˆ†æ‹ç…§ã€‚", short_desc: "å¤ç¾…é¦¬å»¢å¢Ÿé¢¨æ ¼å»ºç¯‰ï¼Œé©åˆå¤•é™½æ™‚åˆ†æ‹ç…§ã€‚", icon: "ğŸ›ï¸", url: "https://palaceoffinearts.com/" },
            { name: "Chase Center", city: "SF", type: "Fun", desc: "é‡‘å·å‹‡å£«éšŠä¸»å ´ï¼Œç¾ä»£åŒ–ä¸”ç†±è¡€æ²¸é¨°ã€‚", short_desc: "é‡‘å·å‹‡å£«éšŠä¸»å ´ï¼Œç¾ä»£åŒ–ä¸”ç†±è¡€æ²¸é¨°ã€‚", icon: "ğŸ€", url: "https://www.chasecenter.com/" },
            
            // --- å„ªå‹ç¾åœ° (Yosemite) æ™¯é» (New!) ---
            { name: "éš§é“æ™¯è§€ Tunnel View", city: "Yosemite", type: "Photo", desc: "é€²å…¥å„ªå‹ç¾åœ°è°·åœ°æ™‚æœ€ç¶“å…¸çš„è§€æ™¯å°ã€‚å¾é€™è£¡å¯ä»¥ä¸€æ¬¡é£½è¦½é…‹é•·å²©ã€æ–°å¨˜é¢ç´—ç€‘å¸ƒå’ŒåŠåœ“é ‚ä¸‰å¤§åœ°æ¨™ï¼Œæ˜¯æ”å½±æ„›å¥½è€…çš„å¤©å ‚ã€‚", short_desc: "å„ªå‹ç¾åœ°è±¡å¾µæ€§è¦–è§’ï¼Œä¸€æ¬¡é£½è¦½ä¸‰å¤§åœ°æ¨™ã€‚", icon: "ğŸï¸", url: "https://www.nps.gov/yose/planyourvisit/tunnelview.htm" },
            { name: "é…‹é•·å²© El Capitan", city: "Yosemite", type: "Nature", desc: "ä¸–ç•Œä¸Šæœ€å¤§çš„å–®å¡ŠèŠ±å´—å²©å·¨çŸ³ï¼Œå‚ç›´é«˜åº¦è¶…é 900 å…¬å°ºã€‚é›–ç„¶éŠå®¢ä¸èƒ½æ”€ç™»ï¼Œä½†å¾è°·åº•ä»°æœ›å…¶æ°£å‹¢ï¼Œå·²è¶³å¤ ä»¤äººéœ‡æ’¼ã€‚", short_desc: "å…¨çƒæœ€å¤§å–®å¡ŠèŠ±å´—å²©ï¼Œæ”€å²©è€…çš„å¤¢æƒ³è–åœ°ã€‚", icon: "ğŸ§—", url: "https://www.nps.gov/yose/planyourvisit/elcapitan.htm" },
            { name: "å„ªå‹ç¾åœ°ç€‘å¸ƒ Yosemite Falls", city: "Yosemite", type: "Nature", desc: "ç”±ä¸Šã€ä¸­ã€ä¸‹ä¸‰æ®µç€‘å¸ƒçµ„æˆï¼Œç¸½è½å·®é” 739 å…¬å°ºï¼Œæ˜¯åŒ—ç¾æœ€é«˜çš„ç€‘å¸ƒä¹‹ä¸€ã€‚æ˜¥æœ«å¤åˆé›ªæ°´èåŒ–æ™‚ï¼Œæ°´é‡æœ€å¤§ï¼Œæ°£å‹¢æœ€ç‚ºç£…ç¤¡ã€‚", short_desc: "åŒ—ç¾æœ€é«˜ç€‘å¸ƒä¹‹ä¸€ï¼Œæ˜¥å­£æ°´é‡æœ€ç‚ºå£¯è§€ã€‚", icon: "ğŸŒŠ", url: "https://www.nps.gov/yose/planyourvisit/waterfalls.htm" },
            { name: "åŠåœ“é ‚ Half Dome", city: "Yosemite", type: "Nature", desc: "å„ªå‹ç¾åœ°æœ€è‘—åçš„åœ°æ¨™ï¼Œå½¢ç‹€åƒä¸€é¡†è¢«åˆ‡é–‹çš„å·¨å¤§åœ“é ‚ã€‚å®ƒä»£è¡¨è‘—å„ªå‹ç¾åœ°çš„ç²¾ç¥â€”â€”å …æ¯…èˆ‡å£¯éº—ã€‚å¾è°·åº•æˆ–å†°å·é»é çœºçš†æ¥µç‚ºå£¯è§€ã€‚", short_desc: "å„ªå‹ç¾åœ°ç²¾ç¥è±¡å¾µï¼Œç¨ç‰¹åŠåœ“å½¢èŠ±å´—å²©åœ°æ¨™ã€‚", icon: "â›°ï¸", url: "https://www.nps.gov/yose/planyourvisit/halfdome.htm" },

            // --- èˆŠé‡‘å±±åˆ°å¡æ¢…çˆ¾ PCH æ™¯é» ---
            { name: "é´¿å­é»ç‡ˆå¡”", city: "PCH", type: "History", desc: "å»ºæ–¼ 1871 å¹´ï¼Œæ˜¯ç¾åœ‹è¥¿æµ·å²¸æœ€é«˜çš„ç‡ˆå¡”ä¹‹ä¸€ã€‚æˆ¶å¤–åœ’å€å…¨å¤©é–‹æ”¾ï¼Œæ˜¯ç¶“å…¸çš„æµ·å²¸æ”å½±æ“šé»ã€‚", short_desc: "ç¶“å…¸æµ·å²¸ç‡ˆå¡”ï¼Œç¾åœ‹è¥¿æµ·å²¸æœ€é«˜ä¹‹ä¸€ã€‚", icon: "ğŸ’¡", url: "https://www.parks.ca.gov/?page_id=533" },
            { name: "é¯Šé­šé°­ç£", city: "PCH", type: "Nature", desc: "å› æµ·ä¸­å·¨çŸ³å½¢ç‹€é…·ä¼¼é¯Šé­šèƒŒé°­è€Œå¾—åã€‚æ“æœ‰åŸå§‹çš„è‡ªç„¶ç¾æ„Ÿèˆ‡ç¨ç‰¹çš„æµ·è•æ´æ™¯è§€ã€‚", short_desc: "å½¢ç‹€é…·ä¼¼é¯Šé­šèƒŒé°­çš„å·¨çŸ³æµ·ç˜ã€‚", icon: "ğŸ¦ˆ", url: "https://www.californiacoastline.org/cgi-bin/image.cgi?image=4583&mode=big&options=0" },
            { name: "è–å¡”å…‹é­¯èŒ²ç¢¼é ­èˆ‡æ¨‚åœ’", city: "PCH", type: "Fun", desc: "åŠ å·æœ€å¤è€çš„æµ·æ¿±éŠæ¨‚åœ’ï¼Œæ“æœ‰ç™¾å¹´æ­·å²çš„æœ¨è³ªéå±±è»Šã€‚ç¢¼é ­ä¸‹æ–¹å¸¸æœ‰æˆç¾¤æµ·ç…ä¼‘æ†©ã€‚", short_desc: "åŠ å·æœ€å¤è€æµ·æ¿±æ¨‚åœ’ï¼Œç¶“å…¸æœ¨è³ªéå±±è»Šã€‚", icon: "ğŸ¡", url: "https://beachboardwalk.com/" },
            { name: "è’™ç‰¹é›·ç£æ°´æ—é¤¨", city: "PCH", type: "Nature", desc: "å…¨ç¾æœ€å—æ¨å´‡çš„æ°´æ—é¤¨ï¼Œå¿…çœ‹å·¨å‹æµ·è—»æ£®æ—èˆ‡æµ·çºé¤µé£Ÿç§€ã€‚åº§è½æ–¼æ­·å²ç½é ­å» è¡—ã€‚", short_desc: "å…¨ç¾é ‚å°–æ°´æ—é¤¨ï¼Œå·¨å‹æµ·è—»æ£®æ—æ™¯è§€ã€‚", icon: "ğŸ ", url: "https://www.montereybayaquarium.org/" },
            { name: "17-Mile Drive", city: "PCH", type: "Nature", desc: "ç§äººæ™¯è§€å…¬è·¯ï¼Œæ¬£è³ç¢§æµ·è—å¤©ã€å­¤æŸæ¨¹ã€æµ·è±¹èˆ‡è±ªè¯ä½å®…ã€‚éœ€ä»˜å…¥åœ’è²»$12.25/è»Šã€‚", short_desc: "æµ·å²¸ç·šç§äººæ™¯è§€å…¬è·¯ï¼Œå¿…çœ‹å­¤æŸèˆ‡é³¥å²©ã€‚", icon: "ğŸŒ²", url: "https://www.pebblebeach.com/17-mile-drive/" },
            { name: "å¡æ¢…çˆ¾å°é®", city: "PCH", type: "Culture", desc: "å……æ»¿æ­å¼ç«¥è©±æ°›åœçš„è—è¡“å°é®ï¼Œæ“æœ‰è–‘é¤…å±‹èˆ¬çš„æˆ¿èˆå’Œæ½”ç™½æ²™ç˜ï¼Œé©åˆæ•£æ­¥èˆ‡è—å»Šä¹‹æ—…ã€‚", short_desc: "æ­å¼ç«¥è©±è—è¡“å°é®ï¼Œç„¡éœ“è™¹ç‡ˆèˆ‡é€Ÿé£Ÿåº—ã€‚", icon: "ğŸ¡", url: "https://www.carmelcalifornia.com/" },

            // --- å¡æ¢…çˆ¾åˆ°çš®æ–¯è«æ¯”å¥‡ PCH æ™¯é» ---
            { name: "ç¾…ä¼¯æ–¯è§’å·ç«‹è‡ªç„¶ä¿è­·å€ Point Lobos", city: "PCH", type: "Nature", desc: "è¢«è­½ç‚ºã€ŒåŠ å·å·ç«‹å…¬åœ’ç³»çµ±ä¸­çš„çš‡å† ã€ã€‚é€™è£¡æœ‰è±å¯Œçš„æµ·é³¥ã€æµ·è±¹èˆ‡æµ·çºç”Ÿæ…‹ï¼Œä»¥åŠå£¯è§€çš„æµ·è•æ™¯è§€ã€‚", short_desc: "åŠ å·çš‡å† ç´šè‡ªç„¶ä¿è­·å€ï¼Œè§€è³æµ·çºæµ·è±¹ã€‚", icon: "ğŸ¦­", url: "https://www.parks.ca.gov/?page_id=571" },
            { name: "Bixby Bridge", city: "PCH", type: "Photo", desc: "ä¸€è™Ÿå…¬è·¯æœ€å…·ä»£è¡¨æ€§çš„æ”å½±é»ã€‚å·¨å¤§çš„å–®è·¨æ··å‡åœŸæ‹±æ©‹å®Œå·¥æ–¼ 1932 å¹´ï¼Œæ©«è·¨åœ¨é™¡å³­çš„æ–·å´–æ·±è°·ä¹‹é–“ã€‚", short_desc: "ä¸€è™Ÿå…¬è·¯æœ€è‘—åçš„å–®æ‹±æ©‹ï¼Œæ‡¸å´–çµ•æ™¯ã€‚", icon: "ğŸŒ‰", url: "https://www.fs.usda.gov/recarea/lpnf/recarea/?recid=10924" },
            { name: "è²ä½›æµ·ç˜ Pfeiffer Beach", city: "PCH", type: "Photo", desc: "éš±è—åœ¨å±±è°·ä¸­çš„ç§˜å¢ƒæµ·ç˜ã€‚è‘—åçš„ã€Œç´«è‰²ã€æ²™ç˜èˆ‡æµ·ä¸Šå·¨å¤§çš„ Keyhole Rock çŸ³æ´æ‹±é–€ã€‚", short_desc: "æ¬£è³ Keyhole Rock èˆ‡ç¨ç‰¹çš„ç´«è‰²æ²™ç˜ã€‚", icon: "ğŸ’œ", url: "https://www.fs.usda.gov/recarea/lpnf/recarea/?recid=10921" },
            { name: "éº¥å…‹å¨ç€‘å¸ƒ McWay Falls", city: "PCH", type: "Nature", desc: "åŠ å·æ¥µå°‘æ•¸ç›´æ¥è½å…¥æµ·ç˜çš„ç€‘å¸ƒã€‚ç¢§ç¶ çš„æµ·æ°´é…ä¸Šç´°ç™½çš„ç€‘å¸ƒï¼Œç¾å¾—åƒä¸€å¹…ç•«ã€‚", short_desc: "ä¸–å¤–æ¡ƒæºèˆ¬çš„æµ·å²¸ç€‘å¸ƒï¼Œå¯¶çŸ³è‰²æµ·ç£ã€‚", icon: "ğŸ’§", url: "https://www.parks.ca.gov/?page_id=570" },
            { name: "èµ«æ°å¤å ¡ Hearst Castle", city: "PCH", type: "History", desc: "å ±æ¥­å¤§äº¨èµ«æ–¯ç‰¹çš„ç§äººé ˜åœ°ï¼Œèåˆåœ°ä¸­æµ·é¢¨æƒ…èˆ‡ç„¡æ•¸æ­æ´²éª¨è‘£ï¼Œæ¥µç›¡å¥¢è¯ã€‚", short_desc: "æ¥µè‡´å¥¢è¯çš„ç§äººèŠåœ’ï¼Œèåˆæ­æ´²è—è¡“ã€‚", icon: "ğŸ°", url: "https://hearstcastle.org/" },
            { name: "è±¡é¼»æµ·è±¹ç˜ Elephant Seal Rookery", city: "PCH", type: "Nature", desc: "å…¨å¹´éƒ½å¯ä»¥åœ¨æ­¤è§€è³åˆ°æˆç™¾ä¸Šåƒéš»å·¨å¤§çš„è±¡é¼»æµ·è±¹åœ¨æ²™ç˜ä¸Šä¼‘æ¯ã€æ›æ¯›æˆ–è‚²é››ã€‚", short_desc: "å…è²»ç”Ÿæ…‹è§€å¯Ÿé»ï¼Œè§€è³æˆç¾¤è±¡é¼»æµ·è±¹ã€‚", icon: "ğŸ˜", url: "https://www.elephantseal.org/" },
            { name: "æœˆå…‰çŸ³æµ·ç˜ Moonstone Beach", city: "PCH", type: "Nature", desc: "ä»¥æµ·ç˜ä¸Šæ•£å¸ƒçš„å°ç‰çŸ³å¾—åã€‚æ“æœ‰é¢¨æ™¯æ¥µä½³çš„æ¿±æµ·æœ¨æ£§é“ï¼Œé©åˆæ‚ é–’æ•£æ­¥ã€‚", short_desc: "ä»¥å°ç‰çŸ³èåï¼Œæ“æœ‰çµ•ç¾æ¿±æµ·æœ¨æ£§é“ã€‚", icon: "ğŸ’", url: "https://visitcambriaca.com/moonstone-beach/" },
            { name: "è«ç¾…è²èˆ‡è«ç¾…å²© Morro Rock", city: "PCH", type: "Photo", desc: "å·¨å¤§çš„æµ·ä¸Šå²©æ¼¿å²©çŸ—ç«‹åœ¨æµ·æ¸¯å…¥å£ã€‚ç¢¼é ­å€å……æ»¿äº†æµ·é®®é¤å»³èˆ‡æ°´ä¸Šæ´»å‹•ã€‚", short_desc: "å·¨å‹æµ·ä¸Šå²©æ¼¿å²©åœ°æ¨™ï¼Œæµ·é®®ç¾é£Ÿç¢¼é ­ã€‚", icon: "ğŸŒ‹", url: "https://www.morrobay.org/" },
            { name: "çš®æ–¯è«æ¯”å¥‡ Pismo Beach", city: "PCH", type: "Fun", desc: "é€™æ®µæ—…ç¨‹çš„çµ‚é»ï¼Œæ˜¯ä¸€å€‹å……æ»¿é™½å…‰æ°£æ¯çš„æµ·é‚Šæ¸¡å‡å°é®ã€‚ä»¥å»£å¤§çš„æ²™ç˜å’Œæ²™ä¸˜æ´»å‹•èåã€‚", short_desc: "æµ·é‚Šæ¸¡å‡å°é®ï¼Œæ²™ç˜ç¢¼é ­èˆ‡æ²™ä¸˜æ´»å‹•ã€‚", icon: "ğŸ–ï¸", url: "https://experiencepismobeach.com/" },

            // --- PCH çµ‚æ®µæ™¯é» ---
            { name: "ä¸¹éº¥æ‘ Solvang", city: "PCH", type: "Culture", desc: "ç”±ä¸¹éº¥ç§»æ°‘å»ºç«‹ï¼Œå®Œç¾ä¿ç•™äº†ä¸¹éº¥å»ºç¯‰é¢¨æ ¼èˆ‡æ–‡åŒ–ã€‚éš¨è™•å¯è¦‹å·¨å¤§çš„é¢¨è»Šã€å‚³çµ±æœ¨é€ æˆ¿å±‹ä»¥åŠå‚³çµ±æœé£¾çš„æœ¨å¶è£é£¾ã€‚", short_desc: "å……æ»¿åŒ—æ­ç«¥è©±æ°£æ¯çš„ä¸¹éº¥ç§»æ°‘å°é®ï¼Œç¶“å…¸é¢¨è»Šåœ°æ¨™ã€‚", icon: "ğŸ‡©ğŸ‡°", url: "https://solvangusa.com/" },
            { name: "è–å¡”èŠ­èŠ­æ‹‰ Santa Barbara", city: "PCH", type: "Culture", desc: "è¢«è­½ç‚ºã€Œç¾è¥¿çš„è”šè—æµ·å²¸ã€ï¼ŒåŸå¸‚è¦å®šæ‰€æœ‰å»ºç¯‰å¿…é ˆç¶­æŒç´…ç“¦ã€ç™½ç‰†çš„è¥¿ç­ç‰™æ®–æ°‘é¢¨æ ¼ï¼Œæ•£ç™¼è‘—å„ªé›…çš„åº¦å‡æ°›åœã€‚", short_desc: "å…·å‚™ç´…ç“¦ç™½ç‰†è¥¿ç­ç‰™é¢¨æ ¼çš„å„ªé›…æµ·å²¸åŸå¸‚ï¼Œå¿…ç™»æ³•é™¢é˜æ¨“ã€‚", icon: "ğŸ‡ªğŸ‡¸", url: "https://santabarbaraca.com/" },

            // --- æ´›æ‰ç£¯ (LA) æ™¯é» ---
            { name: "è–å¡”è«å°¼å¡ç¢¼é ­ Santa Monica Pier", city: "LA", type: "Fun", desc: "é€™ä¸åƒ…æ˜¯ä¸€è™Ÿå…¬è·¯æ¥è¿‘å°¾è²çš„ç¶“å…¸ç«™é»ï¼Œä¹Ÿæ˜¯å‚³å¥‡ã€Œæ¯è¦ªä¹‹è·¯ã€66 è™Ÿå…¬è·¯çš„çµ‚é»ç«™ã€‚ç¢¼é ­å……æ»¿äº†å¾©å¤çš„æµ·æ¿±éŠæ¨‚è¨­æ–½èˆ‡ç†±é¬§æ°›åœã€‚", short_desc: "66è™Ÿå…¬è·¯çµ‚é»ï¼Œç¶“å…¸æµ·æ¿±æ¨‚åœ’èˆ‡æ‘©å¤©è¼ªã€‚", icon: "ğŸ ", url: "https://www.santamonicapier.org/" },
            { name: "è¿ªå£«å°¼æ¨‚åœ’", city: "LA", type: "Fun", desc: "å…ƒç¥–æ¨‚åœ’ï¼Œå……æ»¿ç«¥è©±èˆ‡é­”æ³•ã€‚å»ºè­°ä½¿ç”¨ Genie+ã€‚", short_desc: "å…ƒç¥–æ¨‚åœ’ï¼Œå……æ»¿ç«¥è©±èˆ‡é­”æ³•ã€‚", icon: "ğŸ¢", url: "https://disneyland.disney.go.com/" },
            { name: "å¥½èŠå¡¢ç’°çƒå½±åŸ Universal Studios", city: "LA", type: "Fun", desc: "å…¨çƒé¦–åº§ç’°çƒå½±åŸï¼ŒçµåˆçœŸå¯¦ç‰‡å ´èˆ‡éŠæ¨‚è¨­æ–½ã€‚å¿…ç©ï¼šè¶…ç´šä»»å¤©å ‚ä¸–ç•Œï¼ˆé¦¬åŠ›æ­è³½è»Šï¼‰ã€Studio Tourï¼ˆç©å‘½é—œé ­/å¤§ç™½é¯Šï¼‰ã€å“ˆåˆ©æ³¢ç‰¹ç¦å¿Œä¹‹æ—…ã€‚å»ºè­°è³¼è²· Express Pass çœæ™‚ã€‚", short_desc: "é›»å½±ä¸»é¡Œæ¨‚åœ’ï¼Œå¿…ç©ä»»å¤©å ‚ä¸–ç•Œèˆ‡ç‰‡å ´å°è¦½ã€‚", icon: "ğŸ¬", url: "https://www.universalstudioshollywood.com/" },
            { name: "è¯ç´å…„å¼Ÿå½±åŸ Warner Bros. Tour", city: "LA", type: "Culture", desc: "ç›¸è¼ƒæ–¼ç’°çƒå½±åŸï¼Œæä¾›æ›´å…·çŸ¥æ€§æ·±åº¦çš„ç‰‡å ´åƒè§€ã€‚èµ°å…¥ã€Šå…­äººè¡Œã€‹å’–å•¡é¤¨ã€ã€Šè™è ä¿ ã€‹é“å…·é–“èˆ‡çœŸå¯¦è£½ç‰‡å» ã€‚éœ€æå‰é ç´„ã€‚", short_desc: "æ·±åº¦ç‰‡å ´åƒè§€ï¼Œèµ°å…¥å…­äººè¡Œèˆ‡è™è ä¿ å ´æ™¯ã€‚", icon: "ğŸ¥", url: "https://www.wbstudiotour.com/" },
            { name: "æ ¼é‡Œæ–æ–¯å¤©æ–‡å° Griffith Observatory", city: "LA", type: "Photo", desc: "æ´›æ‰ç£¯åœ°æ¨™ï¼Œã€Šæ¨‚ä¾†è¶Šæ„›ä½ ã€‹(La La Land) å–æ™¯åœ°ã€‚æˆ¶å¤–éœ²å°å¯çœºæœ›å¥½èŠå¡¢æ¨™èªŒèˆ‡çµ•ç¾å¸‚æ™¯å¤•é™½ã€‚Samuel Oschin å¤©è±¡é¤¨ç§€éœ€ç¾å ´è³¼ç¥¨ã€‚", short_desc: "ä¿¯ç° LA å¤œæ™¯èˆ‡å¥½èŠå¡¢æ¨™èªŒçš„æœ€ä½³åœ°é»ã€‚", icon: "ğŸ”­", url: "https://griffithobservatory.org/" },
            { name: "å¥½èŠå¡¢æ˜Ÿå…‰å¤§é“ Walk of Fame", city: "LA", type: "History", desc: "å°‹æ‰¾é‘²åµŒåœ¨äººè¡Œé“ä¸Šçš„ç²‰ç´…æ˜Ÿå½¢çç« ï¼Œåƒè§€ TCL ä¸­åœ‹åŠ‡é™¢ï¼ˆæ˜æ˜Ÿæ‰‹è…³å°ï¼‰èˆ‡æœæ¯”åŠ‡é™¢ã€‚å»ºè­°ä¸Šåˆå‰å¾€é¿é–‹äººæ½®ã€‚", short_desc: "å°‹æ‰¾å¿ƒå„€æ˜æ˜Ÿçš„æ˜Ÿæ˜Ÿèˆ‡æ‰‹å°ã€‚", icon: "â­", url: "https://www.walkoffame.com/" },
        ];
        
        const itineraryData = {
            phase1: {
                title: "Phase 1: ä¸‰è—©å¸‚æ¼«éŠèˆ‡NBA",
                days: [
                    { date: "2/26 (å››)", loc: "èˆŠé‡‘å±±", act: "æŠµé”èˆ‡æ™‚å·®èª¿é©", detail: "21:15 SFO æŠµé”ã€å‰å¾€ Riu Plaza Fisherman's Wharfã€ä¼‘æ¯èª¿é©æ™‚å·®ã€‚", transport: "Shared Shuttle æˆ– Uber/Lyft (è²»ç”¨è¼ƒé«˜ä½†æœ€æ–¹ä¾¿)ã€‚", hotel: "Riu Plaza Fisherman's Wharf" },
                    { date: "2/27 (äº”)", loc: "èˆŠé‡‘å±±", act: "æƒ¡é­”å³¶èˆ‡åŸå¸‚ç²¾è¯", detail: "ä¸Šåˆï¼šæƒ¡é­”å³¶åƒè§€ã€‚<br>åˆé¤ï¼šæ¼äººç¢¼é ­<br>ä¸‹åˆï¼šLombard Street (çºœè»Šé«”é©—)ã€å‰å¾€è—è¡“å®®ã€‚<br>æ™šé¤<br>æ™šä¸Šï¼šè—è¡“å®®æ¹–ç•”æ¬£è³å¤•é™½ã€è¿”å›é£¯åº—ã€‚", transport: "æƒ¡é­”å³¶ï¼šç¢¼é ­æ­¥è¡Œã€‚ä¹æ›²èŠ±è¡—/è—è¡“å®®ï¼š Powell-Hyde çºœè»Š ğŸš‹ã€‚", attractionKey: "æƒ¡é­”å³¶ Alcatraz", hotel: "Riu Plaza Fisherman's Wharf" }, 
                    { date: "2/28 (å…­)", loc: "èˆŠé‡‘å±±", act: "NBA è³½äº‹æ—¥", detail: "ä¸Šåˆï¼šæ‚ é–’æ—©åˆé¤ã€Ferry Building æ•£æ­¥ã€‚<br>ä¸‹åˆï¼šå‰å¾€ Chase Center å‘¨é‚Šç”¨æ™šé¤ã€‚<br>åˆæ™šé¤<br>æ™šä¸Šï¼š17:30 è§€è³ NBA å‹‡å£«éšŠ vs æ¹–äººéšŠã€‚", transport: "Ferry Buildingï¼š MUNI å·´å£«ã€‚Chase Centerï¼š MUNI T-Line è¼•è»Œç›´é”ã€‚è³½å¾Œï¼š MUNI æˆ– Uber/Lyft å›é£¯åº—ã€‚", attractionKey: "Chase Center", hotel: "Riu Plaza Fisherman's Wharf" },
                    { date: "3/1 (æ—¥)", loc: "èˆŠé‡‘å±±/å‘¨é‚Š", act: "å…§é™¸è‡ªç„¶æ¢ç´¢ (å„ªå‹ç¾åœ°)", detail: "<strong>06:30 â€“ 07:30</strong> èˆŠé‡‘å±±å¸‚å€ä¸Šè»Š (è¦–åœ°é»è€Œå®šï¼Œè«‹æº–æ™‚)<br><strong>07:30 â€“ 11:30</strong> ä¹˜è»Šå‰å¾€å„ªå‹ç¾åœ° (ä¸­é€”ä¼‘æ¯ 20-30 åˆ†)<br><strong>11:30 â€“ 12:00</strong> æŠµé”åœ‹å®¶å…¬åœ’ (ç¶“å—å´æˆ–è¥¿å´å…¥å£)<br><strong>12:00 â€“ 16:30</strong> å„ªå‹ç¾åœ°è°·æ·±åº¦æ¢ç´¢ (è‡ªç”±åˆé¤)<br><strong>16:30 â€“ 17:00</strong> è§€è³ Tunnel View (é‡é»è§€æ™¯å°)<br><strong>17:00 â€“ 21:30</strong> è¿”å›èˆŠé‡‘å±± (ä¸­é€”ä¼‘æ¯ï¼Œæ™šé¤æ™‚æ®µæŠµé”)", transport: "æ—…è¡Œç¤¾æä¾›äº¤é€šè»Šã€‚", attractionKey: "é…‹é•·å²© El Capitan", hotel: "Riu Plaza Fisherman's Wharf" },
                    { date: "3/2 (ä¸€)", loc: "èˆŠé‡‘å±±", act: "åŸå¸‚æ–‡åŒ–å·¡ç¦®", detail: "ä¸Šåˆï¼šè¯åˆå»£å ´é€›è¡—ã€å‰å¾€å”äººè¡—åˆé¤ã€‚ä¸‹åˆï¼šæ­è»Šå‰å¾€é‡‘é–€å¤§æ©‹åŒ—é‚Š Vista Point æ‹ç…§ã€‚æ™šä¸Šï¼šé †è·¯å›ç¨‹ç¶“ Crissy Fieldã€æ™šé¤ã€è‡ªç”±æ´»å‹•ã€‚", transport: "çºœè»Š/å”äººè¡—ï¼š Powell-Mason çºœè»Š ğŸš‹ã€‚é‡‘é–€å¤§æ©‹ï¼š å¾å”äººè¡—æ­ Uber/Lyft ç›´é”ã€‚", attractionKey: "é‡‘é–€å¤§æ©‹ Golden Gate", hotel: "Riu Plaza Fisherman's Wharf" }
                ]
            },
            phase2: {
                title: "Phase 2: åŠ å·ä¸€è™Ÿå…¬è·¯",
                days: [
                    // PCH Day 1 (SF-Carmel)
                    { date: "3/3 (äºŒ)", loc: "PCH Day 1 (SFâœCarmel)", act: "ä¸€è™Ÿå…¬è·¯ç¶“å…¸æµ·å²¸ç·š (200km)", detail: "ä¸Šåˆï¼šé£¯åº—é€€æˆ¿ã€å¸‚å€å–è»Šã€‚å•Ÿç¨‹æ²¿è‘— 1 è™Ÿå…¬è·¯å—ä¸‹ã€‚**è‡ªé§•è·¯æ³é‡é»ï¼šå‡ºç™¼å‰å‹™å¿…ç¢ºèª Caltrans è·¯æ³ä»¥é˜²åæ–¹ã€‚<BR>è·¯ç·šï¼šèˆŠé‡‘å±± â†’ åŠæœˆç£ â†’ è–å¡”å…‹é­¯èŒ² â†’ è’™ç‰¹ç‘ â†’ 17-Mile Drive â†’ å¡æ¢…çˆ¾å°é® (ç´„200KM)ã€‚<BR>æ™šä¸Šï¼šå…¥ä½å¡æ¢…çˆ¾/è’™ç‰¹é›·å€åŸŸé£¯åº—ã€‚", transport: "ğŸš— ç§Ÿè»Š/è‡ªé§• (å‹™å¿…åœ¨å¸‚å€å–è»Š)ã€‚", attractionKey: "å¡æ¢…çˆ¾å°é®", hotel: "éš†æ©æ©¡æœ¨é…’åº— (Lone Oak Inn)" },
                    // PCH Day 2 (Carmel-Morro Bay) 
                    { date: "3/4 (ä¸‰)", loc: "PCH Day 2 (CarmelâœMorro Bay)", act: "Big Sur å·¨å²©æµ·å²¸å¥‡æ™¯èˆ‡å¤å ¡", detail: "ä¸Šåˆï¼š**ç¬¬ä¸€ç«™ï¼šç¾…ä¼¯æ–¯è§’å·ç«‹è‡ªç„¶ä¿è­·å€** å¥è¡Œè³æµ·çºã€‚**ç¬¬äºŒç«™ï¼šæ¯”å…‹æ–¯æ¯”å¤§æ©‹** æ‹ç…§ã€‚é€”ç¶“ï¼š**è²ä½›æµ·ç˜** (ç´«è‰²æ²™ç˜ï¼Œå¯é¸æ“‡åœç•™)ã€‚**ç¬¬ä¸‰ç«™ï¼šéº¥å…‹å¨ç€‘å¸ƒ** è§€æ™¯å°ã€‚ä¸‹åˆï¼š**ç¬¬å››ç«™ï¼šèµ«æ°å¤å ¡** (éœ€é ç´„å°è¦½) åƒè§€ã€‚**ç¬¬äº”ç«™ï¼šè±¡é¼»æµ·è±¹ç˜** è§€è³æµ·è±¹ç¾¤ã€‚æ™šä¸Šï¼šæŠµé”ä¸¦å…¥ä½ Morro Bay é£¯åº—ã€‚", transport: "ğŸš— è‡ªé§• (å‹™å¿…ç¢ºèª Hwy 1 è·¯æ³ Caltrans)ã€‚", attractionKey: "èµ«æ°å¤å ¡ Hearst Castle", hotel: "æµ·æ¸¯å±‹é…’åº— (Harbor House Inn)" }, 
                    // PCH Day 3 (Morro Bay-LA) 
                    { date: "3/5 (å››)", loc: "PCH Day 3 (Morro BayâœLA)", act: "ç«¥è©±å°é®ã€è¥¿ç­ç‰™æµ·å²¸èˆ‡ 66 è™Ÿå…¬è·¯çµ‚é»", detail: "ä¸Šåˆï¼šé£¯åº—é€€æˆ¿ã€‚åœ¨ Pismo Beach é™„è¿‘äº«ç”¨æ—©é¤ã€‚**ç¬¬ä¸€ç«™ (å…§é™¸)ï¼šä¸¹éº¥æ‘ Solvang** (1.5 å°æ™‚) åƒè§€é¢¨è»Šã€å“åšä¸¹éº¥ç”œé»ã€‚**ç¬¬äºŒç«™ (æµ·å²¸)ï¼šè–å¡”èŠ­èŠ­æ‹‰** (2 å°æ™‚) ç™»é ‚æ³•é™¢é˜æ¨“ï¼Œä¸¦åœ¨ç¢¼é ­é™„è¿‘åˆé¤ã€‚ä¸‹åˆï¼šæ²¿æµ·å²¸ç·šå—ä¸‹ã€‚æ™šä¸Šï¼šæŠµé”æ´›æ‰ç£¯ï¼Œå‰å¾€ **è–å¡”è«å°¼å¡ç¢¼é ­** (Route 66 çµ‚é») è³å¤•é™½èˆ‡æ™šé¤ï¼Œå…¥ä½é£¯åº—ã€‚", transport: "ğŸš— è‡ªé§• (é€²å…¥æ´›æ‰ç£¯å‰äº¤é€šæœƒæ˜é¡¯è®Šæ…¢ï¼Œè«‹é ç•™ç·©è¡æ™‚é–“)ã€‚", attractionKey: "è–å¡”è«å°¼å¡ç¢¼é ­ Santa Monica Pier", hotel: "The Hollywood Franklin Hotel near Universal Studios" }
                ]
            },
            phase3: {
                title: "Phase 3: å¤©ä½¿ä¹‹åŸèˆ‡é›™æ¨‚åœ’",
                days: [
                    { date: "3/6 (äº”)", loc: "æ´›æ‰ç£¯", act: "é­”æ³•ç«¥è©±åœ‹åº¦ (è¿ªå£«å°¼)", detail: "ä¸Šåˆï¼šé£¯åº—é€€æˆ¿ã€é§•è»Šå‰å¾€ Anaheimã€è¿ªå£«å°¼æ¨‚åœ’ (Disneyland Park)ã€‚ä¸‹åˆï¼šè¿ªå£«å°¼æ¨‚åœ’ (California Adventure) éŠç©ã€‚æ™šä¸Šï¼šé§•è»Šè‡³ The Hollywood Franklin Hotel ä½å®¿ã€‚", transport: "ğŸš— è‡ªé§•ï¼š Santa Monica âœ Anaheim âœ Hollywoodã€‚", attractionKey: "è¿ªå£«å°¼æ¨‚åœ’", hotel: "The Hollywood Franklin Hotel" },
                    { date: "3/7 (å…­)", loc: "æ´›æ‰ç£¯", act: "å¥½èŠå¡¢æ™‚å°šæ¢ç´¢ (é‚„è»Š)", detail: "ä¸Šåˆï¼šé§•è»Šå‰å¾€ **æ ¼é‡Œæ–æ–¯å¤©æ–‡å° Griffith Observatory** (è§€æ™¯/æ‹ç…§)ã€‚ä¸‹åˆï¼š**å¥½èŠå¡¢æ˜Ÿå…‰å¤§é“** å°‹æ‰¾æ˜Ÿæ˜Ÿã€The Grove è³¼ç‰©ã€å‚æ™šé‚„è»Šã€‚æ™šä¸Šï¼šUber/Lyft å›é£¯åº—ã€‚", transport: "ğŸš— è‡ªé§• (éœ€æ”¯ä»˜ Griffith åœè»Šè²»æˆ–æ­æ¥é§è»Š) -> å‚æ™šé‚„è»Šã€‚é‚„è»Šå¾Œï¼š äº¤é€šæ”¹ç‚º Uber/Lyftã€‚", attractionKey: "æ ¼é‡Œæ–æ–¯å¤©æ–‡å° Griffith Observatory", hotel: "The Hollywood Franklin Hotel" },
                    { date: "3/8 (æ—¥)", loc: "æ´›æ‰ç£¯", act: "é›»å½±ç‰¹æ•ˆéœ‡æ’¼ (ç’°çƒå½±åŸ)", detail: "ä¸Šåˆï¼šå‰å¾€ **å¥½èŠå¡¢ç’°çƒå½±åŸ** å…¥åœ’ã€‚å¿…ç©ï¼šè¶…ç´šä»»å¤©å ‚ä¸–ç•Œã€Studio Tourã€å“ˆåˆ©æ³¢ç‰¹ã€‚ä¸‹åˆï¼šæŒçºŒéŠç©åœ’å€è¨­æ–½ã€‚æ™šä¸Šï¼šCityWalk ç”¨é¤è³¼ç‰©ã€Uber/Lyft å›é£¯åº—ã€‚", transport: "ğŸš• Uber/Lyft (æœ€æ–¹ä¾¿çœæ™‚)ã€‚", attractionKey: "å¥½èŠå¡¢ç’°çƒå½±åŸ Universal Studios", hotel: "The Hollywood Franklin Hotel" },
                    { date: "3/9 (ä¸€)", loc: "æ´›æ‰ç£¯", act: "è¼•é¬†å‘Šåˆ¥èˆ‡å›ç¨‹", detail: "ä¸Šåˆï¼šé£¯åº—é€€æˆ¿ã€Santa Monica æµ·é‚Šè‡ªç”±æ´»å‹•æˆ–è³¼ç‰©ã€‚ä¸‹åˆï¼šSanta Monica åˆé¤ã€æº–å‚™å‰å¾€ LAX æ©Ÿå ´ã€‚æ™šä¸Šï¼šæŠµé” LAXã€è¾¦ç†ç™»æ©Ÿæ‰‹çºŒã€22:15 âœˆï¸ èµ·é£›ã€‚", transport: "é£¯åº— âœ Santa Monica âœ LAXï¼š Uber/Lyft (å‹™å¿…é ç•™ 1.5-2 å°æ™‚è»Šç¨‹)ã€‚" }
                ]
            }
        };

        // --- Core Functions ---

        function createAttractionMap() {
            attractionMap = attractions.reduce((map, item) => {
                map[item.name] = item;
                return map;
            }, {});
        }
        function weatherIcon(code) {
          if (code === 0) return "â˜€ï¸";
          if ([1, 2].includes(code)) return "ğŸŒ¤ï¸";
          if (code === 3) return "â˜ï¸";
          if ([45, 48].includes(code)) return "ğŸŒ«ï¸";
          if ([51, 53, 55, 61, 63, 65].includes(code)) return "ğŸŒ§ï¸";
          if ([71, 73, 75].includes(code)) return "â„ï¸";
          return "ğŸŒ¡ï¸";
        }
        function wearAdvice(maxTemp) {
          if (maxTemp >= 28) return "ğŸ‘• ç‚ç†±ï¼ŒçŸ­è¢–ç‚ºä¸»ï¼Œæ³¨æ„é˜²æ›¬";
          if (maxTemp >= 22) return "ğŸ§¥ èˆ’é©ï¼Œè–„é•·è¢–æˆ–è¥¯è¡«";
          if (maxTemp >= 16) return "ğŸ§¶ å¾®æ¶¼ï¼Œå»ºè­°è–„å¤–å¥—";
          return "ğŸ§£ åå†·ï¼Œå¤–å¥—æˆ–ä¿æš–å±¤";
        }
        
        /**
         * å‘¼å« Open-Meteo API ä¸¦è™•ç†éŒ¯èª¤
         * @param {number} lat ç·¯åº¦
         * @param {number} lon ç¶“åº¦
         * @param {string} containerId æ¸²æŸ“å¤©æ°£å¡ç‰‡çš„ DOM ID
         * @param {string} wearId æ¸²æŸ“ç©¿è¡£å»ºè­°çš„ DOM ID
         */
        async function fetch3DayWeather(lat, lon, containerId, wearId) {
            try {
                // ä½¿ç”¨ metric å–®ä½ (æ”æ°)
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=weathercode,temperature_2m_max,temperature_2m_min&forecast_days=3&timezone=auto&units=metric`;
                const res = await fetch(url);

                if (!res.ok) {
                    throw new Error(`å¤©æ°£ API éŒ¯èª¤: HTTP ç‹€æ…‹ç¢¼ ${res.status}`);
                }

                const data = await res.json();
                const container = document.getElementById(containerId);
                container.innerHTML = "";

                // æ¸²æŸ“å¤©æ°£å¡ç‰‡
                data.daily.time.forEach((date, i) => {
                    const card = document.createElement("div");
                    // ä¿®æ­£æ¨£å¼ï¼Œè®“å¡ç‰‡æ›´ç¾è§€ä¸”éŸ¿æ‡‰å¼
                    card.className = "weather-card text-center flex-1 min-w-[60px] p-2 rounded-lg bg-white shadow-sm border border-gray-100";
                    
                    const maxTemp = Math.round(data.daily.temperature_2m_max[i]);
                    const minTemp = Math.round(data.daily.temperature_2m_min[i]);

                    card.innerHTML = `
                        <div class="text-3xl mb-1">${weatherIcon(data.daily.weathercode[i])}</div>
                        <!-- åƒ…é¡¯ç¤º æœˆ/æ—¥ -->
                        <div class="text-xs font-semibold text-gray-700">${new Date(date).toLocaleDateString().slice(5)}</div>
                        <div class="text-sm font-bold text-gray-800 mt-1">
                          ${maxTemp}Â° / ${minTemp}Â°
                        </div>
                    `;
                    container.appendChild(card);
                });

                // æ›´æ–°ç©¿è¡£å»ºè­°
                document.getElementById(wearId).innerText =
                    wearAdvice(Math.round(data.daily.temperature_2m_max[0]));

            } catch (error) {
                // è™•ç† API ç¶²è·¯æˆ–æ•¸æ“šè§£æéŒ¯èª¤
                console.error("Error fetching weather data:", error);
                document.getElementById(containerId).innerHTML = 
                    `<p class="text-red-500 text-sm">æ•¸æ“šè¼‰å…¥å¤±æ•—ã€‚è©³æƒ…è«‹è¦‹ä¸»æ§å° (Console)ã€‚</p>`;
                document.getElementById(wearId).innerText = "ç„¡æ³•å–å¾—å¤©æ°£å»ºè­°ã€‚";
            }
        }
        
        /**
         * å˜—è©¦è¼‰å…¥ç›®å‰æ‰€åœ¨åœ°çš„å¤©æ°£è³‡è¨Šï¼Œä¸¦è™•ç†åœ°ç†å®šä½éŒ¯èª¤ã€‚
         */
        function loadCurrentLocationWeather() {
          const cityEl = document.getElementById("current-city");
          const weatherEl = document.getElementById("weather-current");
          const wearEl = document.getElementById("wear-current");
            
          if (!navigator.geolocation) {
            cityEl.innerHTML = `<span class="font-bold text-red-500">ç€è¦½å™¨ä¸æ”¯æ´å®šä½åŠŸèƒ½ã€‚</span>`;
            weatherEl.innerHTML = `<p class="text-red-500 text-sm">ç„¡æ³•å–å¾—ç›®å‰åœ°å€å¤©æ°£ã€‚</p>`;
            return;
          }
        
          const successCallback = async pos => {
            const lat = pos.coords.latitude;
            const lon = pos.coords.longitude;
        
            // æˆåŠŸå®šä½ï¼Œé¡¯ç¤ºåº§æ¨™
            cityEl.innerText = `ä¾ GPS å®šä½ (ç²¾åº¦: ${pos.coords.accuracy.toFixed(0)}m)`;
        
            // å‘¼å«å¤©æ°£ API
            fetch3DayWeather(lat, lon, "weather-current", "wear-current");
          };
          
          const errorCallback = (error) => {
            let message = "å®šä½å¤±æ•—ã€‚";
            if (error.code === error.PERMISSION_DENIED) {
              message = "ğŸ“ å®šä½è¢«æ‹’çµ•ï¼šè«‹å…è¨±ç€è¦½å™¨å­˜å–æ‚¨çš„ä½ç½®ã€‚";
            } else if (error.code === error.POSITION_UNAVAILABLE) {
              message = "ğŸ“ ä½ç½®è³‡è¨Šä¸å¯ç”¨ã€‚";
            } else if (error.code === error.TIMEOUT) {
              message = "ğŸ“ å®šä½è«‹æ±‚è¶…æ™‚ã€‚";
            }
            
            // åœ¨ UI ä¸Šé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
            cityEl.innerHTML = `<span class="font-bold text-red-500">${message}</span>`;
            weatherEl.innerHTML = `<p class="text-red-500 text-sm">ç„¡æ³•å–å¾—ç›®å‰åœ°å€å¤©æ°£ã€‚</p>`;
            wearEl.innerText = "ç„¡æ³•å–å¾—å¤©æ°£å»ºè­°ã€‚";
            console.error("Geolocation error:", error);
          };

          // è«‹æ±‚ä½ç½®è³‡è¨Šï¼Œè¨­å®š 5 ç§’è¶…æ™‚
          navigator.geolocation.getCurrentPosition(successCallback, errorCallback, {
              enableHighAccuracy: true,
              timeout: 5000,
              maximumAge: 0
          });
        }

        function init() {
            createAttractionMap(); // å‘¼å«æ–°çš„åœ°åœ–å‰µå»ºå‡½æ•¸
            renderFlightTable('outbound');
            renderAccommodation(); // æ¸²æŸ“ä½å®¿è³‡è¨Š
            // renderWeatherChart(); // å‚™ç”¨åœ–è¡¨å·²è¨»é‡‹æ‰ï¼Œä¸å½±éŸ¿ä¸»åŠŸèƒ½
            renderItinerary('phase1'); // é è¨­é¡¯ç¤º èˆŠé‡‘å±± éšæ®µ
            renderAttractions('all'); // é è¨­æ¸²æŸ“æ‰€æœ‰æ™¯é»
            
            // ** ä¿®æ­£å¾Œçš„å®šä½å’Œå¤©æ°£è¼‰å…¥ **
            loadCurrentLocationWeather();       
            
            // San Francisco
            fetch3DayWeather(37.7749, -122.4194, "weather-sf", "wear-sf");
            
            // Los Angeles
            fetch3DayWeather(34.0522, -118.2437, "weather-la", "wear-la");

        }

        function scrollToSection(id) {
    const el = document.getElementById(id);
    if (!el) return;
    const nav = document.querySelector('nav');
    const offset = nav ? nav.offsetHeight + 8 : 0; // nav é«˜åº¦ + å¾®èª¿
    const y = el.getBoundingClientRect().top + window.scrollY - offset;
    window.scrollTo({ top: y, behavior: 'smooth' });
        }

        // --- èˆªç­ Tab + æ¸²æŸ“ ---

        function switchFlightTab(type) {
            document.getElementById('btn-outbound').classList.remove('bg-white', 'shadow', 'text-gray-900');
            document.getElementById('btn-inbound').classList.remove('bg-white', 'shadow', 'text-gray-900');
            document.getElementById('btn-outbound').classList.add('text-gray-500');
            document.getElementById('btn-inbound').classList.add('text-gray-500');

            const activeBtn = document.getElementById(`btn-${type}`);
            activeBtn.classList.remove('text-gray-500');
            activeBtn.classList.add('bg-white', 'shadow', 'text-gray-900');

            renderFlightTable(type);
        }

        function renderFlightTable(type) {
            const data = flightData[type];
            const container = document.getElementById('flight-content');
            let html = '';
            
            data.forEach((flight, index) => {
                html += `
                    <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                        <div class="flex-shrink-0 bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3 text-sm">
                            ${index + 1}
                        </div>
                        <div class="flex-grow">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-bold text-gray-800">${flight.leg}</span>
                                <!-- é¡¯ç¤ºèˆªç­è™Ÿç¢¼ -->
                                <span class="text-sm font-semibold text-blue-700 bg-blue-200 px-2 py-0.5 rounded-lg">åœ‹æ³° ${flight.number}</span>
                            </div>
                            <div class="flex justify-between items-center mb-1">
                                <!-- é¡¯ç¤ºå‚™è¨»è³‡è¨Š -->
                                <span class="text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full">${flight.note}</span>
                            </div>
                            <div class="grid grid-cols-2 gap-2 text-sm text-gray-600">
                                <div><span class="text-gray-400">èµ·é£›:</span> ${flight.date}</div>
                                <div><span class="text-gray-400">æŠµé”:</span> ${flight.arr}</div>
                            </div>
                        </div>
                    </div>
                `;
            });

            // --- åœ‹æ³°èˆªç©ºå ±åˆ°è³‡è¨Š (Cathay Pacific Check-in) ---
            html += `
                <div class="mt-6 p-4 border border-teal-200 bg-teal-50 rounded-xl space-y-3">
                    <h4 class="text-base font-bold text-teal-800 flex items-center">
                        <span class="text-xl mr-2">ğŸ›„</span> åœ‹æ³°èˆªç©ºå ±åˆ°æŒ‡å¼• (Cathay Pacific)
                    </h4>
                    
                    <div>
                        <p class="text-sm font-semibold text-teal-900 mb-1">âœ… ç·šä¸Šå ±åˆ° (Online Check-in)</p>
                        <p class="text-xs text-teal-700">é–‹æ”¾æ™‚é–“ï¼šé€šå¸¸ç‚ºèµ·é£›å‰ 48 å°æ™‚ã€‚å»ºè­°å„ªå…ˆä½¿ç”¨ä»¥ç¯€çœæ™‚é–“ã€‚</p>
                        <a href="https://www.cathaypacific.com/mb/?cxsource=TOP-NAV_FLIGHTS_3_1#!/zh_TW/olci/login" target="_blank" class="text-xs text-blue-600 hover:underline font-medium inline-flex items-center">
                            å‰å¾€åœ‹æ³°èˆªç©ºå®˜ç¶²å ±åˆ°é€£çµ 
                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
                        </a>
                    </div>
                    <div>
                        <p class="text-sm font-semibold text-teal-900 mb-1">ğŸ“ æ©Ÿå ´æ«ƒæª¯è³‡è¨Š (TPE)</p>
                        <p class="text-xs text-teal-700">åœ°é»ï¼šæ¡ƒåœ’æ©Ÿå ´ç¬¬äºŒèˆªå»ˆã€‚åœ‹æ³°æ«ƒæª¯é€šå¸¸ä½æ–¼ **D æˆ– E å€**ã€‚</p>
                        <p class="text-xs text-red-700 font-bold mt-1">
                            *è«‹å‹™å¿…è‡³å°‘æå‰ 2 å°æ™‚æŠµé”ï¼Œä¸¦ä»¥ç•¶æ—¥æ©Ÿå ´ FIDS è¢å¹•è³‡è¨Šç‚ºæº–ã€‚
                        </p>
                    </div>
                </div>
            `;
            // --- çµæŸåœ‹æ³°èˆªç©ºå ±åˆ°è³‡è¨Š ---
            container.innerHTML = html;
        }

        // æ¸²æŸ“ä½å®¿è³‡è¨Š
 	 const toUTCDate = iso => {
   	 const d = new Date(iso);
   	 return new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
  };
        function renderAccommodation() {
            const container = document.getElementById('accommodation-content');
            const accommodations = Object.values(accommodationData);
            let html = '';

            const tripStartUTC = toUTCDate("2026-02-26");

            const cityStyle = {
                "èˆŠé‡‘å±±": "bg-blue-100 text-blue-800",
                "è’™ç‰¹é›·": "bg-yellow-100 text-yellow-800",
                "è«ç¾…è²": "bg-green-100 text-green-800",
                "æ´›æ‰ç£¯": "bg-purple-100 text-purple-800"
            };

            accommodations.forEach(hotel => {
                const checkin = toUTCDate(hotel.checkinDate);
                const checkout = toUTCDate(hotel.checkoutDate);
                const nights = Math.max(0, Math.floor((checkout - checkin) / 86400000));
                const dayIndex = Math.floor((checkin - tripStartUTC) / 86400000) + 1;

                html += `
                <div class="bg-white rounded-2xl border shadow-sm p-5 flex flex-col justify-between">
                    <!-- ä¸Šæ–¹æ¨™ç±¤ -->
                    <div class="flex justify-between items-center mb-3 text-xs">
                        <span class="font-bold text-red-600">Day ${dayIndex}</span>
                        <span class="text-gray-500">${nights} æ™š</span>
                    </div>

                    <!-- é£¯åº—åç¨± -->
                    <h4 class="text-base font-bold mb-1"> ${hotel.name}</h4>

                    <!-- åŸå¸‚ badge -->
                    <span class="inline-block text-xs font-bold px-2 py-1 rounded-full mb-2 ${cityStyle[hotel.city] || 'bg-gray-100 text-gray-600'}">
                        ${hotel.city}
                    </span>

                    <!-- æ—¥æœŸ -->
                    <p class="text-xs text-gray-600 mb-2">
                        ğŸ“… ${hotel.checkinDate} (${hotel.checkin}) â†’ ${hotel.checkoutDate} (${hotel.checkout}) 
                    </p>

                    <!-- æˆ¿å‹ -->
                    <p class="text-sm text-gray-700 mb-1">
                        ğŸ›ï¸ ${hotel.room}
                    </p>

                    <!-- é‡é» -->
                    <p class="text-xs text-gray-500 mb-3">
                        ${hotel.highlight}ï½œ${hotel.facilities}
                    </p>

                    <!-- åœ°åœ– -->
                    <p class="text-xs text-gray-500 mb-3">
                        ğŸ“ <a href="${hotel.mapLink}" target="_blank"
                       class="text-sm text-blue-600 font-medium hover:underline">
                       æŸ¥çœ‹ Google åœ°åœ–
                    </a>

                </div>
                `;
            });

            container.innerHTML = html;
}

        function renderWeatherChart() {
            const ctx = document.getElementById('weatherChart').getContext('2d');
            if (!ctx) return;
    new Chart(ctx, {
      type: 'line',
                data: {
                    labels: ['æ—©æ™¨', 'ä¸­åˆ', 'å‚æ™š', 'å¤œæ™š'],
                    datasets: [
                        {
                            label: 'èˆŠé‡‘å±± (SF) æ°£æº« Â°C',
                            data: [8, 14, 12, 9],
                            borderColor: '#4299e1', // Ocean Blue
                            backgroundColor: 'rgba(66, 153, 225, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'æ´›æ‰ç£¯ (LA) æ°£æº« Â°C',
                            data: [11, 21, 18, 12],
                            borderColor: '#ed8936', // Warm Orange
                            backgroundColor: 'rgba(237, 137, 54, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: { mode: 'index', intersect: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 0,
                            max: 25,
                            title: { display: true, text: 'æº«åº¦ (Â°C)' }
                        }
                    }
                }
            });
        }

        // --- Itinerary Logic ---

        // NEW: åœ°åœ– URL ç”Ÿæˆå‡½æ•¸
        function generatePhaseMapUrl(phaseKey) {
            let poiList = [];

            if (phaseKey === 'phase1') {
                // èˆŠé‡‘å±±ï¼šä½å®¿ + é—œéµæ™¯é»
                poiList = [
                    "Riu Plaza Fisherman's Wharf, San Francisco", 
                    "Alcatraz Island, San Francisco", 
                    "Golden Gate Bridge, San Francisco", 
                    "Lombard Street, San Francisco",
                    "Ferry Building Marketplace, San Francisco", 
                    "Chase Center, San Francisco"
                ];
            } else if (phaseKey === 'phase2') {
                // ä¸€è™Ÿå…¬è·¯ï¼šä½å®¿ + é—œéµæ™¯é»
                poiList = [
                    "Carmel-by-the-Sea", 
                    "Point Lobos State Natural Reserve", 
                    "Bixby Bridge", 
                    "Hearst Castle", 
                    "Elephant Seal Rookery", 
                    "Morro Bay, CA", 
                    "Solvang, CA", 
                    "Santa Barbara, CA"
                ];
            } else if (phaseKey === 'phase3') {
                // æ´›æ‰ç£¯ï¼šä½å®¿ + é—œéµæ™¯é»
                poiList = [
                    "The Hollywood Franklin Hotel, Los Angeles", 
                    "Santa Monica Pier", 
                    "Disneyland Park, Anaheim", 
                    "Universal Studios Hollywood", 
                    "Griffith Observatory", 
                    "Hollywood Walk of Fame"
                ];
            }

            // ä½¿ç”¨ Google Maps Search API çš„ query åƒæ•¸ä¾†æ¨™è¨˜å¤šå€‹åœ°é»
            const query = poiList.join(' and '); // ä½¿ç”¨ ' and ' ä½œç‚ºåˆ†éš”ç¬¦åœ¨ Google Maps æŸ¥è©¢ä¸­æ•ˆæœè¼ƒå¥½
            const baseUrl = "https://www.google.com/maps/search/?api=1&query=";
            return baseUrl + encodeURIComponent(query);
        }

        // æ™¯é»å¾½ç« é¡è‰²å·¥å…·å‡½æ•¸ (ç°¡åŒ–ï¼Œåªç”¨æ–¼è¡Œç¨‹ä¸­å±•ç¤ºï¼Œä¸å½±éŸ¿ä¸»è¦åˆ†é¡ç¯©é¸)
        function getAttractionBadgeColor(type) {
            if (type === 'History') return 'bg-amber-100 text-amber-800';
            if (type === 'Nature') return 'bg-green-100 text-green-800';
            if (type === 'Fun') return 'bg-pink-100 text-pink-800';
            if (type === 'Food') return 'bg-orange-100 text-orange-800';
            if (type === 'Photo') return 'bg-red-100 text-red-800'; 
            if (type === 'Culture') return 'bg-teal-100 text-teal-800'; 
            return 'bg-gray-100 text-gray-600';
        }
// å·¦å´éšæ®µæŒ‰éˆ•ç‹€æ…‹ï¼ˆç°¡åŒ–ä¸”ä¸€è‡´ï¼‰
  function activatePhaseNav(activeKey) {
    const btns = [
      { id: 'nav-phase1', key: 'phase1', color: 'blue' },
      { id: 'nav-phase2', key: 'phase2', color: 'yellow' },
      { id: 'nav-phase3', key: 'phase3', color: 'purple' }
    ];
    btns.forEach(({ id, key, color }) => {
      const el = document.getElementById(id);
      if (!el) return;
      const isActive = key === activeKey;
      el.classList.remove('border-transparent', 'border-blue-500', 'border-yellow-500', 'border-purple-500', 'bg-gray-50', 'bg-blue-50', 'bg-yellow-50', 'bg-purple-50');
      el.classList.add('shadow-sm', 'border-l-4');
      if (isActive) {
        el.classList.add(`border-${color}-500`, `bg-${color}-50`, 'bg-white');
      } else {
        el.classList.add('border-transparent', 'bg-gray-50');
      }
    });
  }        
  function renderItinerary(phaseKey) {
    const phase = itineraryData[phaseKey];
    const container = document.getElementById('itinerary-details');
    if (!phase || !container) return;

    activatePhaseNav(phaseKey);
            const mapUrl = generatePhaseMapUrl(phaseKey); // Get the map URL

            // Determine primary color for map button and phase title underline
            let primaryColorClass = 'bg-blue-500';
            let hoverColorClass = 'hover:bg-blue-600';
            let pinColor = 'border-blue-400';
            let lineColor = 'border-blue-300';
            let locColor = 'text-blue-600';
            let locBg = 'bg-blue-100';

            if (phaseKey === 'phase2') {
                primaryColorClass = 'bg-yellow-500';
                hoverColorClass = 'hover:bg-yellow-600';
                pinColor = 'border-yellow-500';
                lineColor = 'border-yellow-400';
                locColor = 'text-yellow-600';
                locBg = 'bg-yellow-100';
            } else if (phaseKey === 'phase3') {
                primaryColorClass = 'bg-purple-500';
                hoverColorClass = 'hover:bg-purple-600';
                pinColor = 'border-purple-500';
                lineColor = 'border-purple-400';
                locColor = 'text-purple-600';
                locBg = 'bg-purple-100';
            }
// å¾é€™è£¡é–‹å§‹
            // Generate HTML with animation
            let html = `
                <div class="mb-6 animate-fade-in">
                    <!-- NEW: åœ°åœ–é€£çµæŒ‰éˆ• (æ•´åˆè‡ª dashboard æ¦‚å¿µ) -->
                    <a href="${mapUrl}" target="_blank" class="flex items-center justify-center p-3 mb-4 rounded-xl text-white font-bold ${primaryColorClass} ${hoverColorClass} transition-colors shadow-lg card-hover">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0L6.343 16.657A8 8 0 1117.657 16.657z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        ğŸ” åœ°åœ–é€£çµï¼šé–‹æ–°åˆ†é æŸ¥çœ‹ã€Œ${phase.title}ã€ä¸»è¦åœ°é»
          <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
        </a>                    
                    <h3 class="text-2xl font-bold text-gray-900">${phase.title}</h3>
                    <div class="h-1 w-20 ${phaseKey === 'phase2' ? 'bg-yellow-500' : phaseKey === 'phase3' ? 'bg-purple-500' : 'bg-blue-500'} mt-2 rounded-full"></div>
                </div>
            `;

                phase.days.forEach((day, idx) => {
      const attraction = day.attractionKey ? attractionMap[day.attractionKey] : null;
      let attractionHtml = '';
      if (attraction) {
        const badgeColor = getAttractionBadgeColor(attraction.type);
                    const typeLabel = attraction.type === 'History' ? 'æ­·å²åœ°æ¨™' : 
                                      attraction.type === 'Nature' ? 'è‡ªç„¶æ™¯è§€' : 
                                      attraction.type === 'Fun' ? 'å¨›æ¨‚æ¨‚åœ’' : 
                                      attraction.type === 'Food' ? 'ç¾é£Ÿé«”é©—' : 
                                      attraction.type === 'Photo' ? 'æ”å½±æ‰“å¡' : 
                                      attraction.type === 'Culture' ? 'æ–‡åŒ–è—è¡“' : 'å…¶ä»–';

                    attractionHtml = `
                        <div class="mt-3 pt-3 border-t border-gray-100">
                            <div class="flex items-center space-x-2 mb-2">
                                <div class="text-xl">${attraction.icon}</div>
                                <!-- é»æ“Šæ™¯é»åç¨±è·³è½‰åˆ° Highlights å€å¡Š -->
                                <button onclick="scrollToSection('highlights')" class="text-sm font-bold text-gray-800 underline hover:text-yellow-600 attraction-link cursor-pointer p-0 m-0 border-none bg-transparent flex items-center">
                                    <span class="mr-1">æ™¯é»äº®é»:</span>
                                    <span>${attraction.name}</span>
                                </button>
                                <span class="text-xs px-2 py-0.5 rounded-full font-bold ${badgeColor}">${typeLabel}</span>
                            </div>
                            <!-- ä½¿ç”¨ short_desc ç°¡çŸ­ä»‹ç´¹ -->
                            <p class="text-xs text-gray-600 italic leading-relaxed">${attraction.short_desc}</p>
                        </div>
                    `;
                }

                // Check for linked hotel
                let hotelHtml = '';
                const currentHotel = Object.values(accommodationData).find(h => h.name === day.hotel);
                if (currentHotel) {
                     hotelHtml = `<span class="text-xs text-gray-500 bg-yellow-50 border border-yellow-200 inline-block px-2 py-1 rounded ml-2">ğŸ  ${currentHotel.city}</span>`;
                }

                // Determine pin and line color based on phase
                // Color variables already set above (pinColor, lineColor, locColor, locBg)

                html += `
                    <div class="flex group relative pl-8 pb-8 last:pb-0 border-l-2 border-gray-200">
          <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-white border-4 ${pinColor} group-hover:scale-125 transition-transform"></div>
          <div class="bg-gray-50 rounded-xl p-5 w-full hover:bg-white hover:shadow-md transition-all border border-gray-100">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-2">                                <span class="font-bold ${locColor} ${locBg} px-3 py-1 rounded-full text-sm w-fit mb-2 sm:mb-0">
                                    ${day.date}
                                    ${hotelHtml}
                                </span>
                                <span class="text-sm font-semibold text-gray-500 flex items-center">
                                    <span class="mr-1">ğŸ“</span> ${day.loc}
                                </span>
                            </div>
                            <div class="flex items-center gap-3 mb-1">
              <span class="inline-flex items-center justify-center h-8 w-8 rounded-full bg-gray-100 text-gray-700 font-semibold">${idx + 1}</span>
              <h4 class="text-lg font-bold text-gray-800">${day.act}</h4>
            </div>
            <p class="text-gray-600 text-sm leading-relaxed">${day.detail}</p>
            ${attractionHtml}
            <div class="text-xs text-gray-500 bg-white border border-gray-200 inline-block px-2 py-1 rounded mt-3">ğŸš‡ äº¤é€š: ${day.transport || 'â€”'}</div>                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }
// --- Attraction Logic ---
        // --- Attraction Logic ---

        function filterAttractions(filter) {
            // Update active button state
            document.querySelectorAll('.filter-btn').forEach(btn => {
                // Remove all color classes
                btn.classList.remove('bg-gray-800', 'text-white', 'shadow-md');
                btn.classList.remove('bg-white', 'text-gray-600', 'border', 'hover:bg-blue-50', 'hover:text-blue-600', 'hover:bg-yellow-50', 'hover:text-yellow-600', 'hover:bg-purple-50', 'hover:text-purple-600', 'hover:bg-green-50', 'hover:text-green-600');
                
                // Add default non-active styles
                btn.classList.add('bg-white', 'text-gray-600', 'border', 'border-gray-200');

                if(btn.dataset.filter === filter) {
                    // Active state
                    btn.classList.add('bg-gray-800', 'text-white', 'shadow-md');
                    btn.classList.remove('bg-white', 'text-gray-600', 'border', 'border-gray-200');
                } else {
                    // Hover states based on filter name (for non-active buttons)
                    if (btn.dataset.filter === 'SF') btn.classList.add('hover:bg-blue-50', 'hover:text-blue-600');
                    if (btn.dataset.filter === 'Yosemite') btn.classList.add('hover:bg-green-50', 'hover:text-green-600');
                    if (btn.dataset.filter === 'PCH') btn.classList.add('hover:bg-yellow-50', 'hover:text-yellow-600');
                    if (btn.dataset.filter === 'LA') btn.classList.add('hover:bg-purple-50', 'hover:text-purple-600');
                }
            });

            renderAttractions(filter);
        }

        function renderAttractions(filter) {
            const container = document.getElementById('attraction-grid');
            
            // Filter only by the city/area code (SF, PCH, LA)
            const filtered = filter === 'all' 
                ? attractions 
                : attractions.filter(a => a.city === filter);
            
            let html = '';
            filtered.forEach(item => {
                // ä½¿ç”¨å…±ç”¨å‡½æ•¸ç²å–é¡è‰² (ç”¨æ–¼å¡ç‰‡é ‚éƒ¨çš„é¡å‹å¾½ç« )
                const badgeColor = getAttractionBadgeColor(item.type);
                const typeLabel = item.type === 'History' ? 'æ­·å²åœ°æ¨™' : 
                                  item.type === 'Nature' ? 'è‡ªç„¶æ™¯è§€' : 
                                  item.type === 'Fun' ? 'å¨›æ¨‚æ¨‚åœ’' : 
                                  item.type === 'Food' ? 'ç¾é£Ÿé«”é©—' : 
                                  item.type === 'Photo' ? 'æ”å½±æ‰“å¡' : 
                                  item.type === 'Culture' ? 'æ–‡åŒ–è—è¡“' : 'å…¶ä»–';

                // åŸå¸‚åç¨±è½‰æ›
                const cityLabel = item.city === 'SF' ? 'èˆŠé‡‘å±±' : item.city === 'LA' ? 'æ´›æ‰ç£¯' : item.city === 'Yosemite' ? 'å„ªå‹ç¾åœ°' : 'ä¸€è™Ÿå…¬è·¯';

                // åŸå¸‚é¡è‰²æ¨™ç±¤
                let areaBadgeClass = 'bg-gray-100 text-gray-600';
                if (item.city === 'SF') areaBadgeClass = 'bg-blue-100 text-blue-800';
                else if (item.city === 'PCH') areaBadgeClass = 'bg-yellow-100 text-yellow-800';
                else if (item.city === 'LA') areaBadgeClass = 'bg-purple-100 text-purple-800';
                else if (item.city === 'Yosemite') areaBadgeClass = 'bg-green-100 text-green-800';

                // å°‡å¡ç‰‡å®¹å™¨å¾ div æ”¹ç‚º <a> æ¨™ç±¤ï¼Œä¸¦è¨­å®š href å’Œ target="_blank"
                html += `
                    <a href="${item.url}" target="_blank" rel="noopener noreferrer" 
                       class="bg-white rounded-xl shadow-sm border border-gray-100 p-5 card-hover flex flex-col h-full group block cursor-pointer"
                       aria-label="å‰å¾€ ${item.name} å®˜æ–¹ç¶²ç«™">
                        
                        <div class="flex justify-between items-start mb-3">
                            <div class="text-4xl">${item.icon}</div>
                            <div class="flex space-x-2">
                                <span class="text-xs px-2 py-1 rounded-full font-bold ${badgeColor}">${typeLabel}</span>
                                <span class="text-xs px-2 py-1 rounded-full font-bold ${areaBadgeClass}">${cityLabel}</span>
                            </div>
                        </div>
                        <h4 class="text-lg font-bold text-gray-900 mb-1">${item.name}</h4>
                        <p class="text-sm text-gray-600 flex-grow mt-2">${item.desc}</p>
                        
                        <!-- æ–°å¢é€£çµæç¤º -->
                        <div class="mt-4 pt-3 border-t border-gray-100 flex justify-between items-center">
                            <span class="text-sm font-semibold text-indigo-600 group-hover:text-indigo-800 transition-colors">
                                äº†è§£æ›´å¤š (å®˜æ–¹ç¶²ç«™)
                            </span>
                            <!-- å¤–éƒ¨é€£çµåœ–ç¤º -->
                            <svg class="w-4 h-4 text-indigo-500 group-hover:translate-x-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                        </div>
                    </a>
                `;
            });
            container.innerHTML = html;
        }

        // Initialize App
        window.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>
